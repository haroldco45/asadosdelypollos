<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asados DelyPollos - Broaster</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --rojo: #d32f2f;
            --verde: #4caf50;
            --gris-fondo: #f4f4f4;
        }

        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            background-color: var(--gris-fondo);
            display: flex;
            justify-content: center;
        }

        .app-container {
            width: 100%;
            max-width: 450px;
            background: white;
            min-height: 100vh;
            padding-bottom: 100px;
        }

        .info-header {
            background: #fff;
            padding: 10px;
            text-align: center;
            font-size: 12px;
            border-bottom: 1px solid #ddd;
        }

        header {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1626645738196-c2a7c87a8f58?q=80&w=500');
            background-size: cover;
            height: 150px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .logo { max-width: 200px; filter: drop-shadow(2px 2px 5px #000); }

        .search-area { padding: 15px; }
        .search-bar {
            width: 100%;
            padding: 10px;
            border-radius: 20px;
            border: 1px solid #ccc;
            box-sizing: border-box;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            padding: 0 15px;
        }

        .cat-btn {
            padding: 10px;
            border: none;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            font-size: 11px;
            cursor: pointer;
            text-transform: uppercase;
        }

        .active { background-color: var(--rojo); }
        .inactive { background-color: var(--verde); }

        .section-title { padding: 15px; font-weight: bold; font-size: 18px; }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding: 15px;
        }

        .product-card {
            background-color: var(--rojo);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
        }

        .product-name { font-size: 12px; font-weight: bold; height: 30px; }
        .product-price { font-size: 16px; display: block; margin-top: 5px; }

        /* Estilos del Carrito */
        .cart-section {
            padding: 15px;
            border-top: 2px solid var(--gris-fondo);
            background: #fff;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .qty-controls button {
            background: var(--verde);
            border: none;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 5px;
            cursor: pointer;
        }

        .btn-whatsapp {
            width: 100%;
            padding: 15px;
            background-color: #25d366;
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
            display: none; /* Se activa con JS */
        }

        footer { text-align: center; padding: 20px; font-size: 12px; color: #888; }
    </style>
</head>
<body>

<div class="app-container">
    <div class="info-header">
        üìç Frente al estadio de f√∫tbol, Caucasia | üìû 3117700431
    </div>

    <header>
        <img src="ASADOS-DELYPOLLOS.PNG" alt="DelyPollos" class="logo">
    </header>

    <div class="search-area">
        <input type="text" class="search-bar" placeholder="Buscar producto...">
    </div>

    <div class="categories">
        <button class="cat-btn active">Broaster</button>
        <button class="cat-btn inactive">Asado</button>
        <button class="cat-btn inactive">Bandejas</button>
        <button class="cat-btn inactive">Bebidas</button>
        <button class="cat-btn inactive">Sopas</button>
        <button class="cat-btn inactive">Postres</button>
    </div>

    <div class="section-title">BROASTER</div>

    <div class="products-grid" id="menu-broaster">
        </div>

    <div class="cart-section">
        <h3>Tu Pedido</h3>
        <div id="cart-list">
            <p style="color: #999;">El carrito est√° vac√≠o</p>
        </div>
        <div id="total-area" style="font-weight: bold; margin-top: 10px;"></div>
        <button id="send-btn" class="btn-whatsapp" onclick="enviarPedido()">
            PEDIR POR WHATSAPP
        </button>
    </div>

    <footer>
        App desarrollada por **VIBRAS POSITIVAS**
    </footer>
</div>

<script>
    const productos = [
        { id: 1, nombre: "POLLO ENTERO BROASTER", precio: 48000 },
        { id: 2, nombre: "1/2 POLLO BROASTER", precio: 24000 },
        { id: 3, nombre: "1/4 PERNIL BROASTER", precio: 13000 },
        { id: 4, nombre: "1/4 PECHUGA BROASTER", precio: 15000 },
        { id: 5, nombre: "PECHUGA BROASTER", precio: 12000 },
        { id: 6, nombre: "ALA BROASTER", precio: 7000 },
        { id: 7, nombre: "CONTRAMUSLO BROASTER", precio: 7000 },
        { id: 8, nombre: "MUSLO BROASTER", precio: 6000 }
    ];

    let carrito = [];

    function mostrarMenu() {
        const grid = document.getElementById('menu-broaster');
        grid.innerHTML = productos.map(p => `
            <div class="product-card" onclick="agregarAlCarrito(${p.id})">
                <div class="product-name">${p.nombre}</div>
                <span class="product-price">$${p.precio.toLocaleString()}</span>
            </div>
        `).join('');
    }

    function agregarAlCarrito(id) {
        const prod = productos.find(p => p.id === id);
        const existe = carrito.find(item => item.id === id);

        if (existe) {
            existe.cantidad++;
        } else {
            carrito.push({ ...prod, cantidad: 1 });
        }
        actualizarCarrito();
    }

    function cambiarCantidad(id, delta) {
        const item = carrito.find(i => i.id === id);
        if (item) {
            item.cantidad += delta;
            if (item.cantidad <= 0) {
                carrito = carrito.filter(i => i.id !== id);
            }
        }
        actualizarCarrito();
    }

    function actualizarCarrito() {
        const lista = document.getElementById('cart-list');
        const totalArea = document.getElementById('total-area');
        const btn = document.getElementById('send-btn');

        if (carrito.length === 0) {
            lista.innerHTML = '<p style="color: #999;">El carrito est√° vac√≠o</p>';
            totalArea.innerHTML = '';
            btn.style.display = 'none';
            return;
        }

        let total = 0;
        lista.innerHTML = carrito.map(item => {
            total += item.precio * item.cantidad;
            return `
                <div class="cart-item">
                    <span>${item.nombre} x${item.cantidad}</span>
                    <div class="qty-controls">
                        <button onclick="cambiarCantidad(${item.id}, -1)">-</button>
                        <button onclick="cambiarCantidad(${item.id}, 1)">+</button>
                    </div>
                </div>
            `;
        }).join('');

        totalArea.innerHTML = `TOTAL: $${total.toLocaleString()}`;
        btn.style.display = 'block';
    }

    function enviarPedido() {
        let texto = "Hola! Quiero realizar el siguiente pedido:\n\n";
        let total = 0;
        carrito.forEach(item => {
            texto += `- ${item.nombre} (x${item.cantidad}): $${(item.precio * item.cantidad).toLocaleString()}\n`;
            total += item.precio * item.cantidad;
        });
        texto += `\n*TOTAL A PAGAR: $${total.toLocaleString()}*`;
        texto += `\n\nDirecci√≥n: Caucasia, Frente al estadio.`;

        const url = `https://wa.me/573117700431?text=${encodeURIComponent(texto)}`;
        window.open(url, '_blank');
    }

    mostrarMenu();
</script>

</body>
</html>
